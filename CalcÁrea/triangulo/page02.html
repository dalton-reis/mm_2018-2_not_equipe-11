<html>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="./js/hammer.js"></script>
<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

<!-- Custom fonts for this template -->
<link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

<!-- Plugin CSS -->
<link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet" type="text/css">

<!-- Custom styles for this template -->
<link href="css/freelancer.min.css" rel="stylesheet">

	<head>
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">

		<title>CalcÁrea</title>


		<style>
			html, body {
			    
			    margin: 0;
			}

			body {
			    -webkit-perspective: 500;
			    -moz-perspective: 500;
			    perspective: 500;
			}
			.container{
			    margin-top: 50px;
			}

			.container-calculo{
				margin-top: 50px;
			}

			.container-calculo input{
				border-style: solid;
				border-width: 5px;
				border-color: red;
			}

			.valor01{
				border-style: solid;
				border-width: 5px;
				border-color: red;
				margin-bottom: 5px;

				position: absolute;

			}

			.valor02{
				border-style: solid;
				border-width: 5px;
				border-color: red;
				margin-bottom: 5px;
			}

			.retangulo{
				background: #42d692; width: 700px; height: 350px;
			}

			

			.barras{
				border-style: solid;
				border-width: 5px;
				border-color: red;
				margin-bottom: 5px;
			}

		</style>
	</head>

	<body class="bg-primary">
		<div class="container">
			<div class="row text-center">
				<div class="col" >
					<h4>De que forma podemos calcular a área de um triângulo retângulo?</h4>
				</div>
			</div>
			<div class="row text-center">
				<div class="col">
					<h6>Você consegue ver alguma semelhança do triângulo retângulo com um retângulo?</h6>
				</div>
			</div>
			<div class="row text-center">
				<div class="col">
					<h6>Já sabemos que a fórmula para calcular a área de um retângulo é base x altuda. </h6>
				</div>
			</div>
				<div class="row text-center">
				<div class="col">
					<h6>E a fórmula da área de um triângulo retângulo? Seria possivel chegar nela através da área do retângulo? </h6>
				</div>
			</div>
			<div class="container-figuras">
				
				<div class="row text-center">
					
					<div class="col-md-2">
                        <!--<h1>Teste</h1>-->
                        <div class="row">
                            <div id="blocoBase" class="col">
                               <h3 class="barras">b</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div id="blocoAltura" class="col">
                                <h3 class="barras">h</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div id="blocoDMaior" class="col">
                                <h3 class="barras">D</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div id="blocoDMenor" class="col">
                                <h3 class="barras">d</h3>
                            </div>
                        </div>
                    </div>
					<div class="col-8">
						<div class="row">
							<div class="col-md-5" style="z-index: -1">
								<canvas id="trianguloRetangulo" width="150" height="150"></canvas>
							</div>
							<div class="col-md-5" style="z-index: -1">
								<canvas id="retangulo" width="250" height="150"></canvas>
							</div>
						</div>
					</div>
					<div class="col-2">
						<!--<h1>Teste</h1>-->
						<div class="row">
							<div id="blocoDivide" class="col">
								<h3 class="barras">/</h3>
							</div>
						</div>
						<div class="row">
							<div id="blocoSubtrai" class="col">
								<h3 class="barras">-</h3>
							</div>
						</div>
						<div class="row">
							<div id="blocoMultiplica" class="col">
								<h3 class="barras">X</h3>
							</div>
						</div>
						<div id="blocoSoma" class="row">
							<div class="col">
								<h3 class="barras">+</h3>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="container-calculo">
				<div class="row text-center">
					<div class="col">
						<h3>Defina a equação</h3>
					</div>
				</div>
				<div class="row">
					<div class="col-2" style="z-index:-1;">
						<input id="numero1" style="height:70px" type="text">
						<p class="text-center">Símbolo 1</p>
					</div>
					<div class="col-2" style="z-index: -1">
						<input id="numero1" style="height:70px" type="text">
						<p class="text-center">Operação</p>
					</div>
					<div class="col-2" style="z-index: -1">
						<input id="numero1" style="height:70px" type="text">
						<p class="text-center">Símbolo 02</p>
					</div>
                 
					<div class="col-2" style="z-index: -1">
						<input id="operacao2" style="height:70px" type="text">
						<p class="text-center">Operacap 02</p>
					</div>
					<div class="col-2" style="z-index: -1">
								<input id="variavel03" onchange="validarFormula()" type="text">
						
						<p class="text-center">Número</p>
					</div>
				</div>
			</div>

			<div class="container-mensagem">
					<div class="row text-center">
						<div id="mensagem-resultado" class="col">
						</div>
					</div>
			</div>
			<div class="container-botao">
					<div class="row text-center">
						<div id="botao-proximo" class="col">
						</div>
					</div>
			</div>
		</div>

	
		<!--<script src="https://hammerjs.github.io/dist/hammer.js"></script>-->

		<script>
			var divMensagem = document.getElementById("mensagem-resultado");
			var divBotaoProximo = document.getElementById("botao-proximo");
			var mensagemErro = "<h3 class='mensagem-erro'>Você clicou na imagem errada</h3>";
			var mensagemSucesso = "<h3 class='mensagem-sucesso'>Fórmula correta!</h3>";
			var mensagemSucessoFormula = "<h3 class='mensagem-sucesso'>Parabéns! Você descobriu a fórmula!</h3>";
			
			var botao = '<button type="button" class="btn btn-success" onclick="goToNextFigura()">Próxima figura</button>';
			var botaoAtencao = '<button type="button" class="btn btn-warning" onclick="goToNext()">Próxima página</button>';
			
			var mensagemSucesso = "<h3 class='mensagem-atencao'>Não sabe a respota? Vá para a próxima página</h3>";
			
			
			function goToNext(){
				window.location.href = "./page03.html";
			}

			function goToNextFigura(){
				window.location.href = "../losango/page01.html";
			}
			function montarTriangulo() {
		         	canvas = document.getElementById("trianguloRetangulo");
		              
		            if (canvas.getContext){
				    var ctx = canvas.getContext('2d');

				    ctx.beginPath();
				    ctx.moveTo(0,150);
				    ctx.lineTo(150,150);
				    ctx.lineTo(150,0);
				    ctx.fill();
				  }
			}

			function validarFormula(){
				var base = document.getElementById("blocoBase");
				var multi = document.getElementById("blocoMultiplica");
				var altura = document.getElementById("blocoAltura");
				var divide = document.getElementById("blocoDivide");
				var variavel = document.getElementById("variavel03");


				if((parseInt(base.style.left) >= 0 &&  parseInt(base.style.left) <= 20) && 
					(parseInt(base.style.top) >= 285 &&  parseInt(base.style.top) <= 320)){
					if((parseInt(multi.style.left) >= -760 &&  parseInt(multi.style.left) <= -740) && 
						(parseInt(multi.style.top) >= 190 &&  parseInt(multi.style.top) <= 215)){
						if((parseInt(altura.style.left) >= 370 &&  parseInt(altura.style.left) <= 410) && 
							(parseInt(altura.style.top) >= 240 &&  parseInt(altura.style.top) <= 265)){
							if((parseInt(divide.style.left) >= -390 &&  parseInt(divide.style.left) <= -330) && 
								(parseInt(divide.style.top) >= 280 &&  parseInt(divide.style.top) <= 310)){
								if(variavel.value == "2"){
								console.log("Fórmula correta!");
								divMensagem.innerHTML = "";
								divMensagem.innerHTML += mensagemSucessoFormula;
								divBotaoProximo.innerHTML = "";
								divBotaoProximo.innerHTML += botao;
								}
							}
						}
					}						
				}				

			}

			function montarRetangulo() {
		         	canvas = document.getElementById("retangulo");
		              
		            if (canvas.getContext){
				    var ctx = canvas.getContext('2d');

				    ctx.beginPath();
				    ctx.moveTo(0,20);
				    ctx.lineTo(0,130);
				    ctx.lineTo(250,130);
				    ctx.lineTo(250,20);
				    ctx.fill();
				  }
			}

			

			window.onload=function(){ 
				    setTimeout(function() {
						divMensagem.innerHTML = "";
						divMensagem.innerHTML += mensagemSucesso;
						divBotaoProximo.innerHTML = "";
						divBotaoProximo.innerHTML += botaoAtencao;
					}, 30000);
			       	montarRetangulo();
			       	montarTriangulo();

			       	var blocoSoma = document.getElementById('blocoSoma');
				  	var mcSoma = new Hammer(blocoSoma);
				   	mcSoma.add( new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 0 }) );
				   	mcSoma.on("pan", handleDrag);

					var blocoSubtrai = document.getElementById('blocoSubtrai');
				  	var mcSubtrai = new Hammer(blocoSubtrai);
				   	mcSubtrai.add( new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 0 }) );
				   	mcSubtrai.on("pan", handleDrag);

					var blocoDivide = document.getElementById('blocoDivide');
				  	var mcDivide = new Hammer(blocoDivide);
				   	mcDivide.add( new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 0 }) );
				   	mcDivide.on("pan", handleDrag);

					var blocoMultiplica = document.getElementById('blocoMultiplica');
				  	var mcMultiplica = new Hammer(blocoMultiplica);
				   	mcMultiplica.add( new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 0 }) );
				   	mcMultiplica.on("pan", handleDrag);

					var blocoBase = document.getElementById('blocoBase');
				  	var mcBase = new Hammer(blocoBase);
				   	mcBase.add( new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 0 }) );
				   	mcBase.on("pan", handleDrag);

					var blocoAltura = document.getElementById('blocoAltura');
				  	var mcAltura = new Hammer(blocoAltura);
				   	mcAltura.add( new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 0 }) );
				   	mcAltura.on("pan", handleDrag);

					var blocoDMenor = document.getElementById('blocoDMenor');
				  	var mcDMenor = new Hammer(blocoDMenor);
				   	mcDMenor.add( new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 0 }) );
				   	mcDMenor.on("pan", handleDrag);

					var blocoDMaior = document.getElementById('blocoDMaior');
				  	var mcDMaior = new Hammer(blocoDMaior);
				   	mcDMaior.add( new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 0 }) );
				   	mcDMaior.on("pan", handleDrag);

					var lastPosX = 0;
					var lastPosY = 0;
					var isDragging = false

					function digitouNumero(){
						validarFormula();

					}

					function handleDrag(ev) {
					  var elem = ev.target;
					 
					  if (!isDragging) {
					    isDragging = true;
					    if(elem.style.left != ""){
					    	lastPosX = parseInt(elem.style.left);
					    	lastPosY = parseInt(elem.style.top);
					    }
					   
					  }					  
					
					  var posX = ev.deltaX + lastPosX;
					  var posY = ev.deltaY + lastPosY;
					  
					 
					  elem.style.left = posX + "px";
					  elem.style.top = posY + "px";
					  
					  
					  if (ev.isFinal) {
					    isDragging = false;	
					    lastPosX = 0;
					    lastPosY = 0;	
					    validarFormula();	   
					  }
					}
			};

		</script>
		<script src="vendor/jquery/jquery.min.js"></script>
		<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

		<!-- Plugin JavaScript -->
		<script src="vendor/jquery-easing/jquery.easing.min.js"></script>
		<script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

		<!-- Contact Form JavaScript -->
		<script src="js/jqBootstrapValidation.js"></script>
		<script src="js/contact_me.js"></script>

		<!-- Custom scripts for this template -->
		<script src="js/freelancer.min.js"></script>
	</body>

</html>